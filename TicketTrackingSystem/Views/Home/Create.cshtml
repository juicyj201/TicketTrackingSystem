@using TicketTrackingSystem.Models
@model TicketsViewModel
@{ 
  ViewData["Title"] = "Create new ticket";  
}

<div class="section text-center">

<h1 class="text-success mb-5">Create</h1>

@if (ViewBag.Message != null)
{
    <p class="alert alert-primary" role="alert">
        @ViewBag.Message
    </p>
}

@if(Context.Session.GetString("UserType") == "QA"){
@using (Html.BeginForm()){ 
  @Html.AntiForgeryToken()

  <br />
    <div class="text-danger">
      @Html.ValidationSummary(true, "Some of the fields have not been entered correctly.")
    </div>
  <br />

  <div class="mb-3 row g-3 align-items-center">
    <div class="col-4">
      @Html.LabelFor(model => model.Ticket_ID, "Ticket ID", new { htmlAttributes = new { @class = "form-label"}})
    </div>
    <div class="col-6">
      @Html.EditorFor(model => model.Ticket_ID, new { htmlAttributes = new { @class = "form-control"}})
    </div>
  </div>
  <div class="mb-3 row g-3 align-items-center">
    <div class="col-4">
      @Html.LabelFor(model => model.Summary, "Summary", new { htmlAttributes = new { @class = "form-label"}})
    </div>
    <div class="col-6">
      @Html.EditorFor(model => model.Summary, new { htmlAttributes = new { @class = "form-control"}})
    </div>
  </div>
  <div class="mb-3 row g-3 align-items-center">
    <div class="col-4">
      @Html.LabelFor(model => model.Description, "Description", new { htmlAttributes = new { @class = "form-label"}})
    </div>
    <div class="col-6">
      @Html.EditorFor(model => model.Description, new { htmlAttributes = new { @class = "form-control"}})
    </div>
  </div>
   <div class="mb-3 row g-3 align-items-center">
    <div class="col-4">
      @Html.LabelFor(model => model.Ticket_Type, "Ticket Type", new { htmlAttributes = new { @class = "form-label"}})
    </div>
    <div class="col-6">
      @Html.EditorFor(model => model.Ticket_Type, new { htmlAttributes = new { @class = "form-control"}})
    </div>
  </div>
  <div class="mb-3 row g-3 align-items-center">
    <div class="col-4">
      @Html.LabelFor(model => model.Severity, "Severity", new { htmlAttributes = new { @class = "form-label"}})
    </div>
    <div class="col-6">
      @Html.EditorFor(model => model.Severity, new { htmlAttributes = new { @class = "form-control"}})
    </div>
  </div>
  <div class="mb-3 row g-3 align-items-center">
    <div class="col-4">
      @Html.LabelFor(model => model.Priority, "Priority", new { htmlAttributes = new { @class = "form-label"}})
    </div>
    <div class="col-6">
      @Html.EditorFor(model => model.Priority, new { htmlAttributes = new { @class = "form-control"}})
    </div>
  </div>
  <div class="mb-3 row g-3 align-items-center">
    <div class="col-4">
      @Html.LabelFor(model => model.Status, "Status", new { htmlAttributes = new { @class = "form-label"}})
    </div>
    <div class="col-6">
      @Html.EditorFor(model => model.Status, new { htmlAttributes = new { @class = "form-control"}})
    </div>
  </div>

  <div class="row mt-5">
    <div class="col">
      <input type="submit" value="Submit" class="btn-lg btn-primary"/>
    </div>
    
    <div class="col">
      <a href="@Url.Action("Index", "Home")">
        <button type="button" class="btn-lg btn-secondary">Back to all tickets</button>  
      </a>
    </div>  
  </div> 
}
}
else{
  <div class="text-danger">
    <span>You do not have access to edit tickets</span>  
  </div>
}
</div>
